{
    "version": "4.4.0",
    "description": "Your productive tools set and launcher.",
    "homepage": "https://u.tools/",
    "license": {
        "identifier": "Proprietary",
        "url": "http://u.tools/agreement.html"
    },
    "architecture": {
        "64bit": {
            "url": "https://publish.u-tools.cn/version2/uTools-4.4.0.exe#/dl.7z",
            "hash": "8aa4bd40a79540ef774880823f725cc7ba2e550b9488c57f73e2043a2af04e59",
            "installer": {
                "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-64.7z\" \"$dir\""
            }
        },
        "32bit": {
            "url": "https://publish.u-tools.cn/version2/uTools-4.4.0-ia32.exe#/dl.7z",
            "hash": "fe2d3b9575f4fd2ce6491fd3894c12b7e74cd1845e267a80ff0c0f24c4008efb",
            "installer": {
                "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-32.7z\" \"$dir\""
            }
        }
    },
    "post_install": [
        "@('$PLUGINSDIR', '[NSIS].nsi', 'Uninstall uTools.exe') | ForEach-Object { Remove-Item \"$dir\\$_\" -Recurse -Force -ErrorAction SilentlyContinue }",
        "if (!(Test-Path \"$dir\\User Data\\*\") -and (Test-Path \"$env:AppData\\uTools\")) {",
        "    info '[Portable Mode]: Copying user data...'",
        "    Copy-Item \"$env:AppData\\uTools\\*\" \"$dir\\User Data\" -Recurse",
        "}"
    ],
    "shortcuts": [
        [
            "uTools.exe",
            "uTools"
        ]
    ],
    "persist": "User Data",
    "checkver": {
        "url": "https://u.tools/",
        "regex": "uTools-([\\d.]+).exe"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://publish.u-tools.cn/version2/uTools-$version.exe#/dl.7z"
            },
            "32bit": {
                "url": "https://publish.u-tools.cn/version2/uTools-$version-ia32.exe#/dl.7z"
            }
        }
    }
}
