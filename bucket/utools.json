{
    "version": "3.2.1",
    "description": "Your productive tools set and launcher.",
    "homepage": "https://u.tools/",
    "license": {
        "identifier": "Proprietary",
        "url": "http://u.tools/agreement.html"
    },
    "architecture": {
        "64bit": {
            "url": "https://publish.u-tools.cn/version2/uTools-3.2.1.exe#/dl.7z",
            "hash": "14bc4a0ace5303d4e694f094dda8f25cc35ef16832d70b6fa827487120e34588",
            "installer": {
                "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-64.7z\" \"$dir\""
            }
        },
        "32bit": {
            "url": "https://publish.u-tools.cn/version2/uTools-3.2.1-ia32.exe#/dl.7z",
            "hash": "e25693ed265aaeb66251616a76156bb2d6884d67fa94f8b1fcfdb506aca7827d",
            "installer": {
                "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-32.7z\" \"$dir\""
            }
        }
    },
    "post_install": [
        "@('$PLUGINSDIR', '[NSIS].nsi', 'Uninstall uTools.exe') | ForEach-Object { Remove-Item \"$dir\\$_\" -Recurse -Force -ErrorAction SilentlyContinue }",
        "if (!(Test-Path \"$dir\\User Data\\*\") -and (Test-Path \"$env:AppData\\uTools\")) {",
        "    info '[Portable Mode]: Copying user data...'",
        "    Copy-Item \"$env:AppData\\uTools\\*\" \"$dir\\User Data\" -Recurse",
        "}"
    ],
    "shortcuts": [
        [
            "uTools.exe",
            "uTools"
        ]
    ],
    "persist": "User Data",
    "checkver": {
        "url": "https://u.tools/",
        "regex": "uTools-([\\d.]+).exe"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://publish.u-tools.cn/version2/uTools-$version.exe#/dl.7z"
            },
            "32bit": {
                "url": "https://publish.u-tools.cn/version2/uTools-$version-ia32.exe#/dl.7z"
            }
        }
    }
}
