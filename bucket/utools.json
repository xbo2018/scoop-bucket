{
    "version": "3.2.0",
    "description": "Your productive tools set and launcher.",
    "homepage": "https://u.tools/",
    "license": {
        "identifier": "Proprietary",
        "url": "http://u.tools/agreement.html"
    },
    "architecture": {
        "64bit": {
            "url": "https://publish.u-tools.cn/version2/uTools-3.2.0.exe#/dl.7z",
            "hash": "6c2fdd6bab354d1e4860de76a89336b8506c8b890445af678665163b054dbd83",
            "installer": {
                "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-64.7z\" \"$dir\""
            }
        },
        "32bit": {
            "url": "https://publish.u-tools.cn/version2/uTools-3.2.0-ia32.exe#/dl.7z",
            "hash": "04a3f4f657932902ff556728f523a2102006ab8c07dddd86acf32c9fcb73a0ec",
            "installer": {
                "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-32.7z\" \"$dir\""
            }
        }
    },
    "post_install": [
        "@('$PLUGINSDIR', '[NSIS].nsi', 'Uninstall uTools.exe') | ForEach-Object { Remove-Item \"$dir\\$_\" -Recurse -Force -ErrorAction SilentlyContinue }",
        "if (!(Test-Path \"$dir\\User Data\\*\") -and (Test-Path \"$env:AppData\\uTools\")) {",
        "    info '[Portable Mode]: Copying user data...'",
        "    Copy-Item \"$env:AppData\\uTools\\*\" \"$dir\\User Data\" -Recurse",
        "}"
    ],
    "shortcuts": [
        [
            "uTools.exe",
            "uTools"
        ]
    ],
    "persist": "User Data",
    "checkver": {
        "url": "https://u.tools/",
        "regex": "uTools-([\\d.]+).exe"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://publish.u-tools.cn/version2/uTools-$version.exe#/dl.7z"
            },
            "32bit": {
                "url": "https://publish.u-tools.cn/version2/uTools-$version-ia32.exe#/dl.7z"
            }
        }
    }
}
